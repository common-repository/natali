=== WP Natali ===
Contributors: Kviron
Tags: woocommerce, natali, e-commerce, натали, текстиль
Requires PHP: 7.2
Requires at least: 5.6
Tested up to: 5.9.3
Stable tag: 2.1.7
License: GPLv3
License URI: https://www.gnu.org/licenses/gpl-3.0.html
WC Requires at least: 5.0
WC Tested up to: 5.0

== Description ==
Плагин для импорта товаров с сайта Натали (natali37.ru). Быстро импортируйте огромное кол-во товаров и синхронизируйте их с сайтом

## Первоначальный импорт
Для корректной работы плагина необходима пара RestApi ключей WooCommerce с правами уровня Чтение/запись.
Данный модуль не удаляет и не изменяет ранее добавленные вами товары. Вы можете спокойно создавать свои товары не связанные с Натали,
плагин никак не затронет их.

Шаг 1: Установите плагин любым удобным для вам способом.
Шаг 1: Зайдите в настройки плагина и установите пару ключей REST API (Чтение\Запись) от woocommerce, ссылка будет на странице настроек.
Шаг 2: Выберите нужную цену, и процент наценки на товары.
Шаг 3: Установите все нужные атрибуты товаров, которые вы хотите отображать.
Шаг 4: Перейдите на страницу импорта, укажите какие категории товаров, загружать на Ваш сайт, и нажмите кнопку сохранить.
Шаг 5: Плагин просчитает все товары, которые поподают под условие, и поставит их в очередь на импорт
Шаг 6: Нажмите кнопку импорт, и плагин начнет импорт товаров находящихся в очереди

<b>Внимание!</b> При синхронизации товаров, не меняйте настройки на странице импорта в категориях, так как плагин проверяет
нужны ли Вам измененные товары, и в какую категорию их импортировать.

Что бы остановить импорт, просто нажмите на кнопку Остановить. Какое то время, импорт и сохранение настроек будут не доступны, после остановки импорта.
Это потому, что плагин уже ведет импорт товара, и пока его импорт не закончиться, продолжить импорт будет нельзя. Как только товар закончит импортироваться, вы сможете снова продолжить импорт
или поменять настройки и сохранить их.

Внимание! Повторное нажатие на кнопку сохранить сбросит нынешнюю очередь товаров, и создаст новую очередь,
если какие-то товары уже присутствуют на сайте, они не будут попадать в новую очередь повторно

##Информация
Плагин актуализирует каталог Natali. Снятые с продажи элементы удаляются, новые создаются, а измененные – изменяются.

##Рекомендации по обновлению плагина c версии 2.1.1 на версию 2.1.2 или выше
* Удалите все товары, что были импортированы ранее старыми версиями плагина
* Произведите полное удаление плагина, и установите его повторно
* зайдите в раздел настроек, установите нужные вам параметры и сохраните настройки.
* Можно пользоваться плагином

## Экспорт товаров
Экспорт товаров происходит напрямую из заказов оформленных на сайте. Как только у вас появиться заказ, на странице
экспорта товаров появиться список всех активных заказов. Выберите нужный заказ и нажмите на кнопку "Экспорт"
Вы получите возможность скачать файл csv где будет указана таблица всех товаров натали со всеми указанными параметрами в заказе.

## Контактные данные
Почта тех. поддержки natali@drozzi.pro
Если вы оставляете письмо в тех. поддержку, пожалуйста прикрепляйте файл журнала плагина. Его вы можете скачать в разделе поддержки

## Требования к хостингу
Кроме стандартных get и post запросов, для работы плагина необходима поддержка put и delete запросов к сайту.
Такие запросы не должны блокироваться хостингом либо другими плагинами.

== Upgrade Notice ==

== Screenshots ==

== Changelog ==

= 2.1.7 =
* Добавлена более точная установка картинок для вариаций
* Добавлена функция для загрузки одной фотографии для одного цвета, если у Вас мало места на диске, то эта настройка
поможет сэкономить место на диске увеличить скорость импорта товаров
* В разделе синхронизация добавлена возможность для исправления товаров если что то слоучилось с фотографиями или данными
* В разделе синхронизация, процедура самой синхронизации была разбита на 3 этапа Импорт, изменение, удаление, раньше процедура синхронизации
очень сильно нагружала сервер, что прерывало синхронизацию, и нагружала сайт. Разбития на этапы синхронизации позволило снизить нагрузку на сервер,
и так же позволило ставить процедуру синхронизации на паузу.
* Появился прогресс бар для все этапов синхронизации
* В разделе импорт появилась новая настройка, перезапускать импорт при получении ошибки. Если по какой то причине импорт прервался, то с этой настройкой,
плагин попытается продолжить импорт
* Теперь плагин прикрепляет все изображения к товару автоматически



= 2.1.6 =
* Исправлена ошибка удаления товаров, при которой плагин мог начать удалять товары не из натали
* Исправлены название в блоке состав и материалы

= 2.1.5 =
* Исправлена ошибка нехватки памяти при синхронизации товаров
* Добавлен раздел в настройки отображение блока атрибутов
* Улучшена оптимизация плагина на странице импорта и синхронизации

= 2.1.4 =
* Теперь плагин при создании товаров создает вариацию по умолчанию
* После обновления плагина или настроек, теперь будет сбрасываться очередь товаров на импорт, для уменьшения ошибок плагина
* В разделе импорта добавлен показатель кол-ва всех импортированных товаров
* Исправлена ошибка при которой импорт товаров мог загружать повторно один и тот же товар
* Исправлена ошибка синхронизации товаров rest_invalid_params

= 2.1.3 =
* Исправлена ошибка отображения страницы настроек
* Добавлена ссылка на страницу настроек в разделе плагинов

= 2.1.3 =
* Исправлена ошибка отображения страницы настроек
* Добавлена ссылка на страницу настроек в разделе плагинов

= 2.1.2 =
* <b>Раздел настроек</b>
* Изменена система сжатия фотографий, больше сжатые фотографии не будут иметь маленький размер, но будут иметь маленький вес
* Добавлены новые настройки для таблицы размеров, теперь можно регулировать отображение таблицы в разных местах страницы товара или вообще ее скрыть
* Добавлено поле - акционной цены, скидки на товар от стоимости с наценкой
* Добавлен настройки атрибута брэнд
* Все пункты настроек были сгруппированы для удобства

* <b>Раздел импорта</b>
* Исправлен процесс импорта товаров, теперь индикатор импорта отображает более точно кол-импортированых товаров
* Исправлена неправильная работа браузера, когда импорт был закончен или прервался, при уходе со страницы импорта, браузер все ровно спрашивал о том что импорт не был прекращен
* <b>Раздел синхронизации</b>
* Поправлена ошибка зависания синхронизации

* <b>Удаление товаров</b>
* Исправлена ошибка, при которой раздел неправильно отображал кол-во товаров к удалению.
* Раздел более точно удаляет все товары
* Тип удаления в корзину или полностью был временно убран, Сейчас модуль удаляет товары полностью вместе с картинками

* <b>Добавлен новый раздел поддержка</b>
* На странице поддержка теперь отображается журнал действия плагина
* На странице поддержки можно написать в техническую поддержку с вопросом или ошибкой, файл журнала плагина будет автоматически прикреплен к письму

= 2.1.1 =
* Исправлена ошибка из-за которой процент наценки не назначался на цены товара

= 2.1.0 =
* Добавлена новая страница синхронизации товаров. А так же скрипт для синхронизации товаров как крон задача
* Исправлен ошибка когда при загрузке товаров с цветом в ассортименте не загружались вариации
* Добавлена функция выбора цены от которой нужно делать наценку на товар
* Добавлена функция выбора какой тип товара импортировать вариативный или простой
* Добавлена функция возможности выбора качества фотографий которые изначально загружает плагин
* Поправлен баг с неправильны отображение удаляемых товаров натали

= 2.0.1 =
* Исправлена критическая ошибка на странице настроек

= 2.0.0 =
* Обновление все страниц плагина.
* Страница импорта переделана, добавлены новые кнопки сохранения товаров для дальнейшего импорта. Теперь кнопки следуют за пользователем
* Добавлена новая страница экспорта для того что бы можно было быстро получить все товары натали из активных заказов и получить их в формате csv
* Настройки плагина перенесены на новую страницу настроек, теперь на странице настроек можно контролировать всеми основными параметрами такими как атрибуты, наценка и ключи API woocommerce

== Frequently Asked Questions ==

== Donations ==